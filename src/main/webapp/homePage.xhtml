<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
>

<script type="text/javascript">
    PrimeFaces.locales['de'] = {
        closeText: 'Schließen',
        prevText: 'Zurück',
        nextText: 'Weiter',
        monthNames: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
        monthNamesShort: ['Jan', 'Feb', 'März', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
        dayNames: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        dayNamesShort: ['Son', 'Mon', 'Die', 'Mit', 'Don', 'Fre', 'Sam'],
        dayNamesMin: ['S', 'M', 'D', 'M ', 'D', 'F ', 'S'],
        weekHeader: 'Woche',
        FirstDay: 1,
        isRTL: false,
        showMonthAfterYear: false,
        yearSuffix: '',
        timeOnlyTitle: 'Nur Zeit',
        timeText: 'Zeit',
        hourText: 'Stunde',
        minuteText: 'Minute',
        secondText: 'Sekunde',
        currentText: 'Aktuelles Datum',
        ampm: false,
        month: 'Monat',
        week: 'Woche',
        day: 'Tag',
        allDayText: 'Ganzer Tag'
    };
</script>
<f:view>
    <h:head>
        <title>Home</title>
        <h:outputStylesheet library="css" name="styleHomePage.css"/>
    </h:head>
    <h:body>
        <p:growl id="growl" sticky="false" showDetail="true" life="8000"/>

        <div class="w3-teal">
            <p:commandButton icon="bugIcon.png" oncomplete="PF('sidebar1').show()" style="background: none"/>
            <span>JBugger </span>
        </div>
        <div class="content" style=" background-color:lavenderblush; height: 100vh;">
            <div>New</div>
            <div>In progress</div>
            <div>Fixed</div>
            <div>Closed</div>
            <div>Rejected</div>
            <div>Info needed</div>
            <div style=" height: 100vh;"></div>
            <div style=" height: 100vh;"></div>
            <div style=" height: 100vh;"></div>
            <div style=" height: 100vh;"></div>
            <div style=" height: 100vh;"></div>
            <div style=" height: 100vh;"></div>
        </div>

        <p:sidebar widgetVar="sidebar1" baseZIndex="10000" style="background:darkcyan; width:15em">
            <div class="sideBar">
                <h2 style="color: white">JBugger</h2>
                <div class="buttons">
                    <div class="addData">

                        <p:commandButton icon="fa fa-plus" type="button" onclick="PF('dlg1').show();"/>
                        <p:dialog header="Insert options" widgetVar="dlg1" minHeight="40" width="295" height="30"
                                  styleClass="customDialog">
                            <p:commandButton value="User" class="button" styleClass="button"
                                             onclick="PF('dlg_addUser').show(); PF('dlg1').close();"/><p:spacer></p:spacer>
                            <p:dialog id="userInsertDialog" header="Insert user" widgetVar="dlg_addUser" minHeight="40" width="310"
                                      height="500">
                                <p:ajax event="close" listener="#{userManagementBean.clearUserFields()}" update="userInsertDialog"/>
                                <h:form id="userForm">

                                    <h:outputText styleClass="myFont" value="First name" style="display:block;"/>
                                    <p:inputText value="#{userManagementBean.firstName}"/>
                                    <br/><br/>

                                    <h:outputText styleClass="myFont" value="Last name" style="display:block;"/>
                                    <p:inputText value="#{userManagementBean.lastName}"/>
                                    <br/><br/>

                                    <h:outputText styleClass="myFont" value="Email" style="display:block;"/>
                                    <p:inputText value="#{userManagementBean.email}"/>
                                    <br/><br/>

                                    <h:outputText styleClass="myFont" value="Phone" style="display:block;"/>
                                    <p:inputText value="#{userManagementBean.mobile}"/>
                                    <br/><br/>

                                    <h:outputText styleClass="myFont" value="Password" style="display:block;"/>
                                    <p:password value="#{userManagementBean.password}"/><br></br>

                                    <h:outputText styleClass="myFont" value="Confirm password" style="display:block;"/>
                                    <p:password value="#{userManagementBean.confirmPassword}"/><br></br>

                                    <h:outputLabel styleClass="myFont" value="Roles "/><br></br>
                                    <p:selectCheckboxMenu id="rolesUser" value="#{userManagementBean.userRoleList}"
                                                          label="Roles"
                                                          filter="true" filterMatchMode="startsWith"
                                                          panelStyle="width:auto; margin-left: 0px; margin-right: 5px"
                                                          required="true"
                                                          appendTo="@this">
                                        <f:selectItems value="#{roleManagementBean.roleList}"/>
                                    </p:selectCheckboxMenu>
                                    <br></br><br></br>
                                    <p:commandButton value="Save user" class="button"
                                                     styleClass="button" ajax="true" update="growl"
                                                     action="#{userManagementBean.createUser}"/>
                                    <br/><br/>
                                </h:form>
                            </p:dialog>
                            <p:commandButton value="Bug" class="button" styleClass="button"
                                             onclick="PF('dlg_addBug').show();PF('dlg1').close();"/>
                            <p:dialog id="bugInsertDialog" header="Insert bug" widgetVar="dlg_addBug" minHeight="40" width="370"
                                      height="500" onHide="#{bugManagementBean.clearBugFields()}">
                                <p:ajax event="close" listener="#{bugManagementBean.clearBugFields()}" update="bugInsertDialog"/>
                                <h:form id="bugForm" enctype="multipart/form-data">

                                    <h:outputText styleClass="myFont" value="Title" style="display:block;"/>
                                    <p:inputText value="#{bugManagementBean.title}"/>
                                    <br/><br/>

                                    <h:outputText styleClass="myFont" value="Version" style="display:block;"/>
                                    <p:inputText value="#{bugManagementBean.version}"/>
                                    <br/><br/>


                                    <h:outputText styleClass="myFont" value="Severity" style="display:block;"/>
                                    <p:selectOneMenu id="severity" value="#{bugManagementBean.severity}" effect="fold"
                                                     required="true"
                                                     appendTo="@this">
                                        <f:selectItems value="#{constantsBean.severities}"/>
                                    </p:selectOneMenu><br></br><br></br>

                                    <h:outputText styleClass="myFont" value="Assigned to" style="display:block;"/>
                                    <p:selectOneMenu id="assignedUser"
                                                     value="#{bugManagementBean.stringUserAssignedToFixIt}"
                                                     effect="fold" editable="true" required="true"
                                                     appendTo="@this">
                                        <f:selectItems value="#{userManagementBean.userNamesList()}"/>
                                    </p:selectOneMenu><br></br><br></br>

                                    <h:outputText styleClass="myFont" value="Target Date" style="display:block;"/>
                                    <p:calendar id="button" value="#{bugManagementBean.selectedDate}" mode="inline"/>
                                    <br/><br/>

                                    <h:outputText styleClass="myFont" value="Description" style="display:block;"/>
                                    <p:inputTextarea value="#{bugManagementBean.description}"/>

                                    <h:outputText styleClass="myFont" value="Attachment" style="display:block;"/>
                                    <p:fileUpload fileUploadListener="#{fileUploadView.handleFileUpload}"
                                                  allowTypes="/(\.|\/)(gif|jpe?g|png|pdf|doc|xls|xlsx|odf)$/"
                                                  sizeLimit="25000001" invalidSizeMessage="Error! Max file size: 25 MB"
                                                  fileLimit="1"
                                                  mode="advanced" skinSimple="true"/>

                                    <br></br><br></br>
                                    <p:commandButton value="Save bug" class="button" styleClass="button"
                                                     action="#{bugManagementBean.createBug}"
                                                     onclick="PF('dlg_addBug').close();"/>
                                    <br/><br/>
                                </h:form>
                            </p:dialog>
                        </p:dialog>

                    </div>
                    <div class="deleteData">
                        <p:commandButton icon="fa fa-trash"/>
                    </div>
                    <div class="editData">
                        <p:commandButton icon="fa fa-edit" type="button" onclick="PF('dlg_edit').show();"/>
                        <p:dialog header="Edit options" widgetVar="dlg_edit" minHeight="40" width="295" height="30"
                                  styleClass="customDialog">

                            <p:commandButton value="Role" class="button" styleClass="button"
                                             onclick="PF('dlg_EditRole').show();PF('dlg_edit').close();"/>
                            <p:dialog header="Edit role" widgetVar="dlg_EditRole" minHeight="40" width="370"
                                      height="auto">
                                <h:form id="editRoleForm">
                                    <h:outputText styleClass="myFont" value="Role" style="display:block;"/>
                                    <p:selectOneMenu id="roles" value="#{roleManagementBean.selectedRole}" effect="fold"
                                                     editable="false" required="true"
                                                     appendTo="@this">
                                        <f:selectItems value="#{roleManagementBean.roleList}"/>
                                    </p:selectOneMenu><br></br><br></br>

                                    <h:outputLabel styleClass="myFont" value="Rights "/><br></br>
                                    <p:selectCheckboxMenu id="rights" value="#{roleManagementBean.selectedRights}"
                                                          label="Rights"
                                                          filter="true" filterMatchMode="startsWith"
                                                          panelStyle="width:auto; margin-left: 0px; margin-right: 5px"
                                                          required="true"
                                                          appendTo="@this">
                                        <f:selectItems value="#{roleManagementBean.rightsList}"/>
                                    </p:selectCheckboxMenu>

                                    <br></br><br></br><br></br><br></br>
                                    <p:commandButton value="Update role" class="button" styleClass="button"
                                                     action="#{roleManagementBean.updateRoles}"
                                                     onclick="PF('dlg_EditRole').close();" style="margin-top:50%"/>
                                    <br/><br/>
                                </h:form>
                            </p:dialog>

                            <p:commandButton value="User" class="button" styleClass="button"
                                             onclick="PF('dlg_EditUser').show();PF('dlg_edit').close();"/>
                            <p:dialog header="Edit User" widgetVar="dlg_EditUser" minHeight="40" width="370"
                                      height="auto">
                                <h:form id="editUserForm">

                                    <h:outputText styleClass="myFont" value="Username selection"
                                                  style="display:block;"/>
                                    <p:selectOneMenu id="users" value="#{userManagementBean.username}" effect="fold"
                                                     editable="true" required="true"
                                                     appendTo="@this" action="">
                                        <f:selectItems value="#{userManagementBean.userNamesList()}"/>
                                        <p:ajax event="change"
                                                update="firstName,lastName,email,mobile,pass,confirm,rolesSelect,activeStatus"
                                                process="@this"
                                                listener="${userManagementBean.prepareForUserUpdate()}"/>
                                    </p:selectOneMenu><br></br><br></br>

                                    <h:outputText value="Active" styleClass="myFont" style="display:block;"
                                                  escape="true"/>
                                    <p:selectBooleanButton id="activeStatus"
                                                           disabled="#{userManagementBean.username==null}"
                                                           placeholder="#{userManagementBean.active}"
                                                           value="#{userManagementBean.active}" onLabel="Yes"
                                                           offLabel="No" style="width:60px"/>
                                    <h:outputText styleClass="myFont" value="First name" style="display:block;"
                                                  escape="true"/>
                                    <p:inputText value="#{userManagementBean.firstName}"
                                                 placeholder="#{userManagementBean.firstName}"
                                                 autocomplete="off" id="firstName"
                                                 disabled="#{userManagementBean.username==null}"/>

                                    <h:outputText styleClass="myFont" value="Last name" style="display:block;"
                                                  escape="true"/>
                                    <p:inputText id="lastName" value="#{userManagementBean.lastName}"
                                                 disabled="#{userManagementBean.username==null}"/>
                                    <br/><br/>

                                    <h:outputText styleClass="myFont" value="Email" style="display:block;"
                                                  escape="true"/>
                                    <p:inputText id="email" placeholder="#{userManagementBean.email}"
                                                 value="#{userManagementBean.email}"
                                                 disabled="#{userManagementBean.username==null}"/>
                                    <br/><br/>

                                    <h:outputText styleClass="myFont" value="Phone" style="display:block;"
                                                  escape="true"/>
                                    <p:inputText id="mobile" placeholder="#{userManagementBean.mobile}"
                                                 value="#{userManagementBean.mobile}"
                                                 disabled="#{userManagementBean.username==null}"/>
                                    <br/><br/>

                                    <h:outputText styleClass="myFont" value="Password" style="display:block;"
                                                  escape="true"/>
                                    <p:password id="pass" value="#{userManagementBean.password}"
                                                disabled="#{userManagementBean.username==null}"/><br></br>

                                    <h:outputText styleClass="myFont" value="Confirm password" style="display:block;"
                                                  escape="true"/>
                                    <p:password id="confirm" value="#{userManagementBean.confirmPassword}"
                                                disabled="#{userManagementBean.username==null}"/><br></br>

                                    <h:outputText styleClass="myFont" value="Role" style="display:block;"/>


                                    <p:selectCheckboxMenu id="rolesSelect" value="#{userManagementBean.userRoleList}"
                                                          label="Roles"
                                                          filter="true" filterMatchMode="startsWith"
                                                          panelStyle="width:auto; margin-left: 0px; margin-right: 5px"
                                                          appendTo="@this">
                                        <f:selectItems value="#{roleManagementBean.roleList}"/>
                                    </p:selectCheckboxMenu>
                                    <br></br><br></br>

                                    <p:commandButton value="Update user" class="button" ajax="true"
                                                     styleClass="button" update="growl"
                                                     action="#{userManagementBean.userUpdate}"
                                    />
                                    <br/><br/>
                                </h:form>
                            </p:dialog>
                        </p:dialog>
                    </div>
                    <div class="exportData">
                        <p:commandButton icon="fa fa-files-o"/>
                    </div>
                    <div class="overView">
                        <p:commandButton icon="fa fa-search"/>
                    </div>
                    <div class="statistics">
                        <p:commandButton icon="fa fa-pie-chart"/>
                    </div>
                    <br></br>
                    <br></br>
                    <div class="languageSwitch">
                        <p:commandButton icon="fa fa-language"/>
                    </div>
                    <div class="log-out">
                        <h:form><p:commandButton ajax="false" action="#{navigationBean.navigateTo('login')}"
                                                 icon="fa fa-sign-out"/></h:form>
                    </div>
                </div>
            </div>
        </p:sidebar>
    </h:body>
</f:view>
</html>
